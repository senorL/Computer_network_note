# 概述
应用层是计算机网络体系结构的最顶层，是设计和建立计算机网络的最终目的
# 客户/服务器方式和对等方式
网络应用程序在各种端系统上的组织方式和他们之间的关系：
- 客户/服务器（C/S）方式
- 对等（P2P）方式
## C/S方式
- 客户是服务请求方，服务器是服务提供方
- 服务器总是处于运行状态，并等待客户的服务请求。服务器有固定端口号（例如HTTP服务器的默认端口号是80），而运行服务器的主机也具有固定的IP地址
- 服务集中型：应用服务集中在网络中比客户计算机少得多的服务器计算机上
	- 常出现服务器计算机跟不上众多客户机请求的情况
	- 常用计算机群集（服务器场）构建一个强大的虚拟服务器
## P2P方式
- 没有固定的服务请求者和服务提供者，分布在网络边缘各端系统中的应用进程是对等的，被称为对等方。对等方相互之间直接通信
- 服务分散型：分散在大量对等计算机中
- 可扩展性：每增加一个对等方，不仅增加的是服务的请求者，同时也增加了服务的提供者，系统性能不会因规模的增大而降低
- 成本优势
# 动态主机配置协议DHCP
作用：主机可以通过DHCP自动获取网络配置信息
![Pasted image](images/Pasted%20image%2020231130144758.png)
给路由器配置DHCP服务器的IP地址并使之成为DHCP的终极代理
# 域名系统DNS
DNS服务器中有域名和IP地址映射关系的数据库
使用运输层的UDP协议封装，端口号为53
![Pasted image](images/Pasted%20image%2020231130145642.png)
## 查询方式
![Pasted image](images/Pasted%20image%2020231130150810.png)
- 高速缓存：用来存放最近查询过的域名以及从何处获得域名映射信息的记录
- 应为每项内容设置计时器并删除超过合理时间的项
# 文件传送协议FTP
- 提供交互式的访问，允许客户指明文件的类型与格式，允许文件具有存取权限
- FTP屏蔽了各计算机系统的细节，因而适合于在异构网络中任意计算机之间传送文件
![Pasted image](images/Pasted%20image%2020231130151754.png)
# 电子邮件
- 客户/服务器方式
- 主要组成：用户代理，邮件服务器以及电子邮件所需协议
	- 用户代理是用户与电子邮件系统的接口，又称电子邮件客户端软件
	- 邮件服务器是基础设施，功能是发送和接收邮件，还要负责维护用户的邮箱
	- 协议包括邮件发送协议和邮件读取协议
![Pasted image](images/Pasted%20image%2020231130152553.png)
## 发送邮件
过程如下：
![Pasted image](images/Pasted%20image%2020231130192915.png)
- SMTP协议只能传送ASCII码文本数据
- 多用途因特网邮件扩展MIME
## 读取邮件
- 邮局协议POP
	- 用户只能下载并删除或下载并保留
	- 不允许用户在邮件服务器上管理自己的邮件
- 因特网邮件访问协议IMAP
	- 用户在自己的计算机上就可以操控邮件服务器中的邮箱
- 都基于TCP连接的客户/服务器方式
# 万维网WWW
- 万维网并非某种特殊的计算机网络，是运行在因特网上的一个分布式应用
- 使用统一资源定位符URL：`<协议>://<主机>:<端口>/<路径>`
![Pasted image](images/Pasted%20image%2020231130194420.png)
- HTTP/1.0采用非持续连接方式。每次浏览器要请求一个文件都要与服务器建立TCP连接，收到响应后就立即关闭连接
- 每次请求一个文档就要有两倍的RTT的开销
- 为了减少时延，浏览器通常会建立多个并行的TCP连接同时请求多个对象，但是这回大量占用万维网服务器资源
![Pasted image](images/Pasted%20image%2020231130194856.png)
- HTTP/1.1采用持续链接方式
- 流水线方式工作，浏览器在收到响应报文之前就能连续发送多个请求报文
## HTTP的报文格式
- 面向文本，每个字段都是一些ASCII码串，每个字段长度不确定
![Pasted image](images/Pasted%20image%2020231130195136.png)
![Pasted image](images/Pasted%20image%2020231130195235.png)
## Cookie
Cookie是一种对无状态的HTTP进行状态化的技术
![Pasted image](images/Pasted%20image%2020231130195424.png)
## 万维网缓存与代理服务器
- 万维网缓存又称作Web缓存，可位于客户机，也可位于中间系统上，位于中间系统上的Web缓存又称为代理服务器
- 当新请求到达时，若发现这个请求与暂时存放的请求相同，就返回暂存的响应，而不需要按URL地址再去因特网访问该资源
例题：
![Pasted image](images/Pasted%20image%2020231130200014.png)
